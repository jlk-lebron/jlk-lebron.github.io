# 小程序路由跳转

1. 对VueRouter了解

   1. 他是一个Vue的扩展插件库(Vue.use)
   2. 作用:他可以实现单页面应用(SPA应用)
   3. 问题:请问什么是单页面应用?
      1. 当前项目只有一个html文件,通过DOM的CRUD方法,将页面上局部的内容替换成全新的内容进行展示
      2. 反过来说,如果一个项目具有多个html文件,他就是多页面应用

2. VueRouter中一共具有几种路由跳转方式

   1. 一共两种
   2. 声明式导航
      1. 组件:router-link
      2. router-link组件会在页面上显示一个a标签,点击即可实现跳转操作
      3. **定义:通过标签的形式来引导用户进行跳转,这类操作称为声明式导航**
   3. 编程式导航
      1. API:push,replace,go,back等
      2. **定义:通过js的API来控制用户的跳转,这类操作称为编程式导航**

3. VueRouter中传参方式有几种?

   1. query
      1. 语法:"/home?key=value&key2=value2"
      2. 这种传参方式属于URL传参
   2. params
      1. 语法:"/home/数据"
      2. 这种传参方式属于URL传参
   3. meta
      1. 这种传参方式不属于URL传参
   4. 最终,所有路由传参的数据,都可以在this.$route对象身上找到

4. 小程序路由跳转方式

   1. 一共两种

   2. 声明式导航

      1. 组件:navigator

   3. 编程式导航

      1. wx.navigateTo

         1. 作用:**保留当前页面(保留当前页面的实例对象)**，跳转到应用内的某个页面
         2. url可以书写相对路径,该路径参考于当前文件的所在路径
         3. url可以书写绝对路径,该路径参考于当前项目的根路径(也就是app.json所在的文件夹)
         4. 类似于VueRouter中的push方法+keep-alive组件,当前页面的实例对象被缓存起来,不会销毁,同时在跳转到下个页面之后,还能成功返回当前页面(历史记录栈没被替换)
         5. **注意:**
            1. **小程序中页面栈最多十层(相当于是max为10),早期最多五层**
            2. **小程序页面栈如果已经达到10层,将无法开启第11层,也就是说后续跳转全部失效**

      2. wx.redirectTo

         1. 作用:**关闭当前页面(销毁当前页面的实例对象)**，跳转到应用内的某个页面
         2. 使用方法与navigateTo相同,只是API名称不同
         3. 类似于VueRouter中的replace方法,跳转到下个页面的同时,当前页面的历史记录会被覆盖(无法回到当前页面了)

      3. 以上两个API的区别:

         1. wx.navigateTo会保留上个页面的状态数据,而wx.redirectTo会丢失上个页面的数据

5. **keep-alive组件**

   1. **被keep-alive包裹的组件,生死不由己,只能挂载和隐藏,正常情况下无法死亡**
      1. **被keep-alive包裹的组件,他的组件实例对象不会被销毁,会被缓存起来,留作后续使用**
      2. **被缓存的组件,将会失去他的卸载阶段的生命周期,同时会获得两个全新的生命周期**
         1. **activated(激活)**
         2. **deactivated(失活)**
      3. **简单来说,就是让本该死去的组件不死,被隐藏起来**
   2. **标签属性**
      1. **include属性**
         1. **属性值是需要缓存的组件名称(组件的name属性)**
         2. **语法:<keep-alive include="login">(代表只缓存login组件)**
      2. **exclude属性**
         1. **属性值是不需要缓存的组件名称**
         2. **语法:<keep-alive exclude="login">(代表除了login组件都缓存)**
      3. **max属性**
         1. **属性值是能够缓存的组件实例对象的最大个数(没有默认值)**
         2. **语法:<keep-alive max="10">(代表最多缓存10个组件实例对象)**
         3. **如果超过了最大的数量限制,那么最久没被使用的组件实例对象会被出栈销毁**
         4. **该属性的存在,就是为了防止组件实例对象缓存过多,导致内存不足的效果,影响页面性能**

   ​