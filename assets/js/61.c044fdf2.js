(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{371:function(t,a,s){"use strict";s.r(a);var n=s(7),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_04-mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_04-mongodb"}},[t._v("#")]),t._v(" 04-mongodb")]),t._v(" "),a("h1",{attrs:{id:"mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb"}},[t._v("#")]),t._v(" mongoDB")]),t._v(" "),a("blockquote",[a("p",[t._v("mongoDB是一个数据库软件")])]),t._v(" "),a("h2",{attrs:{id:"什么是数据库软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是数据库软件"}},[t._v("#")]),t._v(" 什么是数据库软件")]),t._v(" "),a("blockquote",[a("p",[t._v("数据库软件一般简称数据库")])]),t._v(" "),a("p",[t._v("数据库（DataBase）是按照数据结构来组织、存储和管理数据的仓库。")]),t._v(" "),a("p",[a("img",{attrs:{src:"Untitled+5ca9af65b3a045acadf728906047a0e2/https:/www.notion.so./assets/db.jpg",alt:"https://www.notion.so./assets/db.jpg"}})]),t._v(" "),a("p",[t._v("db")]),t._v(" "),a("h2",{attrs:{id:"为什么要使用数据库软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要使用数据库软件"}},[t._v("#")]),t._v(" 为什么要使用数据库软件")]),t._v(" "),a("p",[t._v("我们的程序都是在内存中运行的，一旦程序运行结束或者计算机断电，程序运行中的数据都会丢失。所以我们就需要将一些程序运行的数据持久化到硬盘之中，以确保数据的安全性。而数据库就是数据持久化的最佳选择。说白了，数据库就是存储数据的仓库。")]),t._v(" "),a("h2",{attrs:{id:"数据库软件的分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库软件的分类"}},[t._v("#")]),t._v(" 数据库软件的分类")]),t._v(" "),a("h3",{attrs:{id:"关系型数据库-rdbs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关系型数据库-rdbs"}},[t._v("#")]),t._v(" 关系型数据库（RDBS）")]),t._v(" "),a("p",[t._v("构成: 一个关系型数据库软件中有多个数据库,每个数据库中有多个表,每一个表中有多个字段和数据行")]),t._v(" "),a("p",[t._v("代表有：MySQL、Oracle、DB2、SQL Server…")]),t._v(" "),a("p",[t._v("特点: 数据存储在 "),a("code",[t._v("表")]),t._v("中, 表和表之间可以建立关系")]),t._v(" "),a("p",[a("img",{attrs:{src:"Untitled+5ca9af65b3a045acadf728906047a0e2/https:/www.notion.so./assets/rdbs.png",alt:"https://www.notion.so./assets/rdbs.png"}})]),t._v(" "),a("p",[t._v("img")]),t._v(" "),a("p",[t._v("优点：")]),t._v(" "),a("p",[t._v("1、易于维护：都是使用表结构，格式一致；")]),t._v(" "),a("p",[t._v("2、使用方便：1通用，可用于复杂查询；")]),t._v(" "),a("p",[t._v("3、高级查询：可用于一个表以及多个表之间非常复杂的查询。")]),t._v(" "),a("p",[t._v("缺点：")]),t._v(" "),a("p",[t._v("1、读写性能比较差，尤其是海量数据的高效率读写；")]),t._v(" "),a("p",[t._v("2、有固定的表结构，字段不可随意更改，灵活度稍欠；")]),t._v(" "),a("p",[t._v("3、高并发读写需求，传统关系型数据库来说，硬盘I/O是一个很大的瓶颈。")]),t._v(" "),a("p",[t._v("关系型数据库的")]),t._v(" "),a("h3",{attrs:{id:"非关系型数据库-nosql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非关系型数据库-nosql"}},[t._v("#")]),t._v(" 非关系型数据库（NoSQL）")]),t._v(" "),a("p",[t._v("构成: 一个非关系型数据库软件中有多个数据库,每个数据库中有多个集合,每个集合中有多个文档")]),t._v(" "),a("p",[t._v("代表有：MongoDB、Redis…")]),t._v(" "),a("p",[t._v("特点：数据存储在 "),a("code",[t._v("集合")]),t._v("中,集合之间无法建立关系")]),t._v(" "),a("p",[a("img",{attrs:{src:"Untitled+5ca9af65b3a045acadf728906047a0e2/https:/www.notion.so./assets/nosql.png",alt:"https://www.notion.so./assets/nosql.png"}})]),t._v(" "),a("p",[t._v("img")]),t._v(" "),a("p",[t._v("优点：")]),t._v(" "),a("p",[t._v("1、格式灵活：存储数据的格式可以是key,value形式。")]),t._v(" "),a("p",[t._v("2、速度快：nosql可以内存作为载体，而关系型数据库只能使用硬盘；")]),t._v(" "),a("p",[t._v("3、易用：nosql数据库部署简单。")]),t._v(" "),a("p",[t._v("缺点：")]),t._v(" "),a("p",[t._v("1、不支持sql，学习和使用成本较高；")]),t._v(" "),a("p",[t._v("2、不支持事务；")]),t._v(" "),a("p",[t._v("3、复杂查询时语句过于繁琐。")]),t._v(" "),a("h2",{attrs:{id:"mongodb介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb介绍"}},[t._v("#")]),t._v(" mongoDB介绍")]),t._v(" "),a("p",[t._v("MongoDB是为快速开发互联网Web应用而设计的数据库系统。")]),t._v(" "),a("p",[t._v("MongoDB的设计目标是极简、灵活、作为Web应用栈的一部分。")]),t._v(" "),a("h3",{attrs:{id:"数据库-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库-database"}},[t._v("#")]),t._v(" 数据库（database）")]),t._v(" "),a("p",[t._v("数据库是一个仓库，在仓库中可以存放集合。")]),t._v(" "),a("h3",{attrs:{id:"集合-collection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集合-collection"}},[t._v("#")]),t._v(" 集合（collection）")]),t._v(" "),a("p",[t._v("集合类似于JS中的数组，在集合中可以存放文档。")]),t._v(" "),a("h3",{attrs:{id:"文档-document"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文档-document"}},[t._v("#")]),t._v(" 文档（document）")]),t._v(" "),a("p",[t._v("一个文档相当于就是一条数据, 类似于js中的json对象")]),t._v(" "),a("p",[a("img",{attrs:{src:"Untitled+5ca9af65b3a045acadf728906047a0e2/https:/www.notion.so./assets/mongdb.png",alt:"https://www.notion.so./assets/mongdb.png"}})]),t._v(" "),a("p",[t._v("mongodb")]),t._v(" "),a("h2",{attrs:{id:"使用指令操作mongodb-了解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用指令操作mongodb-了解"}},[t._v("#")]),t._v(" 使用指令操作mongoDB(了解)")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("找到mongoDB的安装路径")]),t._v(" "),a("div",{staticClass:"language-Plain extra-class"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[t._v("C:\\Program Files\\MongoDB\\Server\\4.2\\bin  // 这是默认路径\n")])])])]),t._v(" "),a("li",[a("p",[t._v("双击 "),a("code",[t._v("mongo.exe")]),t._v(", 这时弹出一个新的命令窗口,在窗口中输入指令即可操作mongoDB")])]),t._v(" "),a("li",[a("p",[t._v("操作mongoDB的基本指令:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("指令")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("show dbs")]),t._v(" "),a("td",[t._v("显示所有的数据库")])]),t._v(" "),a("tr",[a("td",[t._v("use 数据库名")]),t._v(" "),a("td",[t._v("切换到指定的数据库")])]),t._v(" "),a("tr",[a("td",[t._v("db")]),t._v(" "),a("td",[t._v("显示当前所在的数据库")])]),t._v(" "),a("tr",[a("td",[t._v("db.dropDatabase()")]),t._v(" "),a("td",[t._v("删除当前数据库")])]),t._v(" "),a("tr",[a("td",[t._v("show collections")]),t._v(" "),a("td",[t._v("显示当前数据库中的所有集合")])]),t._v(" "),a("tr",[a("td",[t._v("db.collection.drop()")]),t._v(" "),a("td",[t._v("删除当前集")])])])])]),t._v(" "),a("li",[a("p",[t._v("操作mongoDB的增删改查指令")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("添加：")]),t._v(" "),a("div",{staticClass:"language-Plain extra-class"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[t._v("db.集合名.insert(文档对象)db.集合名.insertOne(文档对象)db.集合名.insertMany([文档对象，文档对象])\n")])])])]),t._v(" "),a("li",[a("p",[t._v("查询：")]),t._v(" "),a("div",{staticClass:"language-SQL extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("查询条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("举例:db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("students"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("{age:"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("查找年龄为"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("的所有信息举例:db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("students"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("{age:"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name:"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jack'")]),t._v("}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("查找年龄为"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("且名字为jack的学生常用操作符：    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("   对应为： $lt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("less than"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" $lte"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("less than eq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" $gt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("great than"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" $gte $ne"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" eq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("        举例：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("{age:{$gte:"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("年龄是大于等于"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("的    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),t._v("逻辑或：使用$"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" 或 $"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("or")]),t._v("        查找年龄为"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("或"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("的学生        举例：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("students"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("{age:{$"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("        举例：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("students"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("{$"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("or")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("{age:"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("{name:"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zs'")]),t._v("}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),t._v("逻辑非：$ne    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.")]),t._v("正则匹配：        举例：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("students"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("{name:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("T"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v("能写函数：        db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("students"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("{$"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("{            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" this"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zhangsan'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" this"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("        }}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("投影：过滤掉不想要的数据，只保留想要展示的数据    举例：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("students"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("{}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("{_id:"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name:"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("过滤掉id和name    举例：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("students"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("{}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("{age:"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("只保留age补充：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("findOne"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("查询条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("投影"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，默认只要找到一个\n")])])])]),t._v(" "),a("li",[a("p",[t._v("修改：")]),t._v(" "),a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("查询条件"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("要更新的内容"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("配置对象"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//使用$set修改指定内容，其他数据不变，不过只能匹配一个zhangsan  ")]),t._v("\n举例：db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("students"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zhangsan'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("$set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//修改多个文档对象，匹配多个zhangsan,把所有zhangsan的年龄都替换为19    举例：db.students.update({name:'zhangsan'},{$set:{age:19}},{multi:true}) 补充：db.集合名.updateOne(查询条件,要更新的内容[,配置对象])      db.集合名.updateMany(查询条件,要更新的内容[,配置对象])")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("删除")]),t._v(" "),a("div",{staticClass:"language-Plain extra-class"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[t._v("db.集合名.remove(查询条件)//删除所有年龄小于等于19的学生举例：db.students.remove({age:{$lte:19}})\n")])])])])])])]),t._v(" "),a("h2",{attrs:{id:"mongoose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongoose"}},[t._v("#")]),t._v(" mongoose")]),t._v(" "),a("blockquote",[a("p",[t._v("实际开发中,需要通过代码对mongodb数据库软件进行操作.")])]),t._v(" "),a("p",[t._v("node 平台内置mongodb模块.但是使用起来不方便,所以推荐使用mongoose这个第三方包")]),t._v(" "),a("h3",{attrs:{id:"基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本使用"}},[t._v("#")]),t._v(" 基本使用:")]),t._v(" "),a("ol",[a("li",[t._v("下载 npm i mongoose")]),t._v(" "),a("li",[t._v("引入 const mongoose = require(‘mongoose’)")]),t._v(" "),a("li",[t._v("连接 mongoose.connect(‘mongodb://127.0.0.1:27017/数据库的名字’) 如何判断连接成功? mongoose.connect返回promise,状态为成功表示连接成功,否则连接失败")]),t._v(" "),a("li",[t._v("连接成功之后, 创建Schema对象 用来约束插入到数据库中数据格式 cosnt schema = new mongoose.Schema({ 属性: { required: 表示必填, type: 数据类型(js的数据类型), default: 默认值, unique: 表示值不能重复 } })")]),t._v(" "),a("li",[t._v("创建model对象(集合对象) const model = mongoose.model(‘集合名’, schema)")]),t._v(" "),a("li",[t._v("接下来就可以利用model对象对mongodb数据进行增删改查")])]),t._v(" "),a("h3",{attrs:{id:"mongoose增删改查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongoose增删改查"}},[t._v("#")]),t._v(" mongoose增删改查")]),t._v(" "),a("p",[a("strong",[t._v("注意： 下面所有方法，如果没有指定回调函数，则返回值是一个Promise对象")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("添加")]),t._v(" "),a("div",{staticClass:"language-Plain extra-class"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[t._v(" model.create(文档对象，回调函数)\n")])])])]),t._v(" "),a("li",[a("p",[t._v("查询")]),t._v(" "),a("div",{staticClass:"language-Plain extra-class"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[t._v(" model.find(查询条件[,投影],callback)不管有没有数据，都返回一个数组\n model.findOne(查询条件[,投影],callback)找到了返回一个对象，没找到返回null\n")])])])]),t._v(" "),a("li",[a("p",[t._v("修改")]),t._v(" "),a("div",{staticClass:"language-Plain extra-class"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[t._v("model.updateOne(查询条件,要更新的内容[,配置对象],callback)\nmodel.updateMany(查询条件,要更新的内容[,配置对象],callback)\n")])])])]),t._v(" "),a("li",[a("p",[t._v("删除")]),t._v(" "),a("div",{staticClass:"language-Plain extra-class"},[a("pre",{pre:!0,attrs:{class:"language-plain"}},[a("code",[t._v(" model.deleteOne(查询条件,callback)\n model.deleteMany(查询条件,callback)\n")])])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);