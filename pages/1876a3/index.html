<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 | 小王的博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="logo.png">
    <meta name="description" content="小王的博客">
    
    <link rel="preload" href="/assets/css/0.styles.cc68c345.css" as="style"><link rel="preload" href="/assets/js/app.8d6e8c80.js" as="script"><link rel="preload" href="/assets/js/2.d1a10b95.js" as="script"><link rel="preload" href="/assets/js/10.078876b2.js" as="script"><link rel="prefetch" href="/assets/js/11.0d348b04.js"><link rel="prefetch" href="/assets/js/12.674ecd59.js"><link rel="prefetch" href="/assets/js/13.2cdcfa0f.js"><link rel="prefetch" href="/assets/js/14.7578ba3e.js"><link rel="prefetch" href="/assets/js/15.ed069ce5.js"><link rel="prefetch" href="/assets/js/16.0476bc39.js"><link rel="prefetch" href="/assets/js/17.ffbcbdbd.js"><link rel="prefetch" href="/assets/js/18.564accfd.js"><link rel="prefetch" href="/assets/js/19.0909a6e8.js"><link rel="prefetch" href="/assets/js/20.597bd687.js"><link rel="prefetch" href="/assets/js/21.b7b22c7e.js"><link rel="prefetch" href="/assets/js/22.e3bb53df.js"><link rel="prefetch" href="/assets/js/23.4040088c.js"><link rel="prefetch" href="/assets/js/24.888c00f7.js"><link rel="prefetch" href="/assets/js/25.bae0a4d4.js"><link rel="prefetch" href="/assets/js/26.b4839473.js"><link rel="prefetch" href="/assets/js/27.4c4ac2c9.js"><link rel="prefetch" href="/assets/js/28.6c49ccc3.js"><link rel="prefetch" href="/assets/js/29.51c04b02.js"><link rel="prefetch" href="/assets/js/3.59105492.js"><link rel="prefetch" href="/assets/js/30.61b3e3f7.js"><link rel="prefetch" href="/assets/js/31.e6c5d0ac.js"><link rel="prefetch" href="/assets/js/32.9f59f731.js"><link rel="prefetch" href="/assets/js/33.c57a674a.js"><link rel="prefetch" href="/assets/js/34.7b1d074b.js"><link rel="prefetch" href="/assets/js/35.41092fee.js"><link rel="prefetch" href="/assets/js/36.579a58ab.js"><link rel="prefetch" href="/assets/js/37.bb015b50.js"><link rel="prefetch" href="/assets/js/38.dd4347c1.js"><link rel="prefetch" href="/assets/js/39.682bbcb3.js"><link rel="prefetch" href="/assets/js/4.dcab0898.js"><link rel="prefetch" href="/assets/js/40.07e67951.js"><link rel="prefetch" href="/assets/js/41.653b5e32.js"><link rel="prefetch" href="/assets/js/42.cffbb347.js"><link rel="prefetch" href="/assets/js/43.688a94c9.js"><link rel="prefetch" href="/assets/js/44.42a52d40.js"><link rel="prefetch" href="/assets/js/45.5efaf9e2.js"><link rel="prefetch" href="/assets/js/46.fc11a50f.js"><link rel="prefetch" href="/assets/js/47.c54685cf.js"><link rel="prefetch" href="/assets/js/48.01b4bfa6.js"><link rel="prefetch" href="/assets/js/49.5341fdc9.js"><link rel="prefetch" href="/assets/js/5.9e5cbc4b.js"><link rel="prefetch" href="/assets/js/50.867d8e1a.js"><link rel="prefetch" href="/assets/js/51.7c7c986d.js"><link rel="prefetch" href="/assets/js/52.2e397db2.js"><link rel="prefetch" href="/assets/js/53.5790beaf.js"><link rel="prefetch" href="/assets/js/54.9d4c626a.js"><link rel="prefetch" href="/assets/js/55.19763e86.js"><link rel="prefetch" href="/assets/js/56.dd197ef7.js"><link rel="prefetch" href="/assets/js/57.667b5e2b.js"><link rel="prefetch" href="/assets/js/58.971bd997.js"><link rel="prefetch" href="/assets/js/59.1a5b48bb.js"><link rel="prefetch" href="/assets/js/6.28415204.js"><link rel="prefetch" href="/assets/js/60.e4ee51c1.js"><link rel="prefetch" href="/assets/js/61.c044fdf2.js"><link rel="prefetch" href="/assets/js/62.c6cf56f4.js"><link rel="prefetch" href="/assets/js/63.a381078e.js"><link rel="prefetch" href="/assets/js/64.76f59cd9.js"><link rel="prefetch" href="/assets/js/7.aa2959d8.js"><link rel="prefetch" href="/assets/js/8.55b74a1e.js"><link rel="prefetch" href="/assets/js/9.1809c38a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cc68c345.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">小王的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/index.html" class="nav-link">首页</a></div><div class="nav-item"><a href="/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><!----> <span class="title" style="display:;">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/jlk-lebron/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1849806240878344" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.staticaly.com/gh/jlk-lebron/blog-img@main/PicGo/zms.jpg"> <div class="blogger-info"><h3>Lebron Jia</h3> <span>前端小学生</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/docs/index.html" class="nav-link">首页</a></div><div class="nav-item"><a href="/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><!----> <span class="title" style="display:;">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/jlk-lebron/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1849806240878344" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Important</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ES6</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/c190e1/" class="sidebar-link">函数进阶</a></li><li><a href="/pages/07a66a/" class="sidebar-link">BOM操作</a></li><li><a href="/pages/f25ced/" class="sidebar-link">DOM操作</a></li><li><a href="/pages/a08641/" class="sidebar-link">JS事件高级篇</a></li><li><a href="/pages/1876a3/" aria-current="page" class="active sidebar-link">ES6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#ecmascript发展历史" class="sidebar-link">ECMAScript发展历史</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#谁在维护-ecma-262" class="sidebar-link">谁在维护 ECMA-262</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#es6-兼容性-97" class="sidebar-link">ES6 兼容性（97%）</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#常见的es6新特性" class="sidebar-link">常见的ES6新特性</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#let特点" class="sidebar-link">let特点</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#const特点" class="sidebar-link">const特点</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#对象的解构赋值" class="sidebar-link">对象的解构赋值</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#数组的解构赋值" class="sidebar-link">数组的解构赋值</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#箭头函数和普通函数的区别" class="sidebar-link">箭头函数和普通函数的区别</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#es6中的静态属性和静态方法" class="sidebar-link">es6中的静态属性和静态方法</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#es5中的静态属性和静态方法" class="sidebar-link">es5中的静态属性和静态方法</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#object-keys-和object-values" class="sidebar-link">Object.keys()和Object.values()</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#object-assign" class="sidebar-link">Object.assign()</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#object-create" class="sidebar-link">Object.create()</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#object-is" class="sidebar-link">Object.is()</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#object-defineproperty" class="sidebar-link">Object.defineProperty()</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#自定义遍历数据" class="sidebar-link">自定义遍历数据</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#伪数组转真数组" class="sidebar-link">伪数组转真数组</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#set应用场景" class="sidebar-link">set应用场景</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#set-和-数组区别" class="sidebar-link">Set 和 数组区别</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#map-和-object区别" class="sidebar-link">Map 和 Object区别</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#链式操作" class="sidebar-link">链式操作</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#数组交集、并集、差集" class="sidebar-link">数组交集、并集、差集</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#reduce函数-连续操作器" class="sidebar-link">reduce函数（连续操作器）</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#flat扁平化数组" class="sidebar-link">flat扁平化数组</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#字符串matchall函数" class="sidebar-link">字符串matchAll函数</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#捕获组-分组-命名" class="sidebar-link">捕获组(分组)命名</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#正则非捕获组" class="sidebar-link">正则非捕获组</a></li><li class="sidebar-sub-header level2"><a href="/pages/1876a3/#扩展vue源码缓存函数" class="sidebar-link">扩展Vue源码缓存函数</a></li></ul></li><li><a href="/pages/1fc096/" class="sidebar-link">元素的+offset+client+scroll属性</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=ES6" title="分类" data-v-06225672>ES6</a></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-07-09</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">ES6<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="js严格模式"><a href="#js严格模式" class="header-anchor">#</a> JS严格模式</h1> <p>介绍：</p> <ol><li>严格模式通过<strong>抛出错误</strong>来消除了一些原有<strong>静默错误</strong>。</li> <li>严格模式修复了一些导致 JavaScript 引擎难以执行优化的缺陷：有时候，相同的代码，严格模式可以比非严格模式下<strong>运行得更快</strong></li></ol> <p>开启严格模式：</p> <ul><li>整个脚本开启严格模式</li></ul> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>函数内开启</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
   
<span class="token punctuation">}</span>
</code></pre></div><p>在严格模式下的，常见的变化有：</p> <ul><li>声明变量不加关键字var或let，抛出异常</li> <li>全局中函数this不再是window，而是指向undefined</li> <li>不能通过detete删除普通变量。注：但删除对象属性是可以的</li> <li>....</li></ul> <p>示例</p> <div class="language-HTML extra-class"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
 <span class="token comment">// 整个脚本都开启严格模式</span>
      <span class="token string">'use strict'</span>

      <span class="token comment">//   严格模式必须要加声明变量的关键字 var let</span>
      <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">100</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>

      <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 严格模式，函数没有调用者，this指向undefined</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      <span class="token comment">//   严格模式：不能删除普通变量</span>
      <span class="token comment">//   var b = 200</span>
      <span class="token comment">//   delete b</span>

      <span class="token comment">//   删除对象的属性是可以</span>
      <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
      <span class="token keyword">delete</span> obj<span class="token punctuation">.</span>d
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

 </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h1 id="es6介绍"><a href="#es6介绍" class="header-anchor">#</a> ES6介绍</h1> <p>ECMA ( European Computer Manufacturers Association ) 中文名为欧洲计算机制造商协会, 这个组织的目标是评估, 开发和认可电信和计算机标准. 1994年后该组织改名为Ecma国际.</p> <p>什么是ECMAScript</p> <ul><li>ECMAScript 是由 Ecma 国际通过 ECMA-262标准化的脚本程序设计语言.</li></ul> <p>什么是 ECMA-262</p> <ul><li>Ecma国际制定了许多标准, 而 ECMA-262 只是其中的一个, 所有标准列表查看
<a href="http://www.ecma-international.org/publications/standards/Standard.htm" target="_blank" rel="noopener noreferrer">http://www.ecma-international.org/publications/standards/Standard.htm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>在线版ECMA文档：<a href="https://tc39.es/ecma262/#sec-json.parse%E3%80%82%E5%BB%BA%E8%AE%AE%E7%9C%8BMND" target="_blank" rel="noopener noreferrer">https://tc39.es/ecma262/#sec-json.parse。建议看MND<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="ecmascript发展历史"><a href="#ecmascript发展历史" class="header-anchor">#</a> ECMAScript发展历史</h2> <table><thead><tr><th>第 1 版</th> <th>1997 年</th> <th>制定了语言的基本语法</th></tr></thead> <tbody><tr><td>第 2 版</td> <td>1998 年</td> <td>较小改动</td></tr> <tr><td>第 3 版</td> <td>1999 年</td> <td>引入正则、异常处理、格式化输出等。IE开始支持</td></tr> <tr><td>第 4 版</td> <td>1999 年</td> <td>过于激进，未发布</td></tr> <tr><td>第 5 版</td> <td>2009 年</td> <td>引入严格模式、JSON、扩展对象，数组、原型、字符串、日期方法</td></tr> <tr><td>第 6 版(ES6)</td> <td>2015 年</td> <td>模块化、面向对象语法、Promise、箭头函数、let、const、数组解构赋值等等</td></tr> <tr><td>第 7 版</td> <td>2016 年</td> <td>幂运算符、数组includes扩展</td></tr> <tr><td>第 8 版</td> <td>2017 年</td> <td>字符串扩展、Async/await关键字</td></tr> <tr><td>第 9 版</td> <td>2018 年</td> <td>对象解构赋值、正则扩展</td></tr> <tr><td>第 10 版</td> <td>2019 年</td> <td>扩展对象、数组、字符串方法</td></tr> <tr><td>ES.next</td> <td></td> <td>动态指向下一个版本</td></tr></tbody></table> <p>注：从ES6开始，每年发布一个版本，版本号比年份最后一位大1。</p> <p><strong>ES5之后的JS语法统称ES6！！！</strong></p> <h2 id="谁在维护-ecma-262"><a href="#谁在维护-ecma-262" class="header-anchor">#</a> 谁在维护 ECMA-262</h2> <p><a href="https://github.com/tc39/proposals" target="_blank" rel="noopener noreferrer">TC39<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（Technical Committee 39）是推进 ECMAScript 发展的委员会。 其会员都是公司。（其中主要是浏览器厂商，有苹果、谷歌、微软、因特尔等）。TC39定期召开会议，会议由会员公司的代表与特邀专家出席。</p> <p>会议的内容： 制定ECMAScript标准,标准生成的流程,并实现。</p> <p>一个提案在成为标准之前会经历下面的步骤：</p> <ul><li>草案（ Sketch ）（非正式地：“普通人提案”）：提案特性的第一个描述。</li> <li>提案（ Proposal ）：如果 TC39 认为某个特性是重要的，那么此特性就上升为官方提案状态。这并不会保证最终会成为标准，但是大大地增加了成为标准的可能性。 ES6 提案的截止日期是2011年5月，在这之后不会考虑重大的新提案。</li> <li>实现（ Implementations ）：提案特性必须被实现，在理想情况下，要支持两种 JavaScript 引擎。在提案获得提升的时候，来自于社区的实现和反馈决定了提案的样子。</li> <li>标准（ Standard ）：如果提案持续检验自身，并且被 TC39 接受，那么该提案将最终包含进 ECMAScript 标准的一个版本中。此时，就成了一个标准特性。</li></ul> <p>TC39会议内容： <a href="https://github.com/tc39/notes/tree/211aa3f9e0fac861bba427776a9ecb8663fdf280/meetings" target="_blank" rel="noopener noreferrer">https://github.com/tc39/notes/tree/211aa3f9e0fac861bba427776a9ecb8663fdf280/meetings<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="es6-兼容性-97"><a href="#es6-兼容性-97" class="header-anchor">#</a> ES6 兼容性（97%）</h2> <p><a href="http://kangax.github.io/compat-table/es6/" target="_blank" rel="noopener noreferrer">http://kangax.github.io/compat-table/es6/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 可查看兼容性</p> <p><a href="https://caniuse.com/%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%9C%8Bcss%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%BC%E5%AE%B9%E6%80%A7" target="_blank" rel="noopener noreferrer">https://caniuse.com/也可以看css的一些兼容性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>不兼容es6+语法的浏览器，后面会借助babel插件，将其转化es5。</p> <h2 id="常见的es6新特性"><a href="#常见的es6新特性" class="header-anchor">#</a> 常见的ES6新特性</h2> <ul><li>let、const</li> <li>模板字符串</li> <li>对象简写</li> <li>解构赋值</li> <li>剩余参数&amp;扩展运算符</li> <li>箭头函数</li> <li>class声明类 、extends来实现继承</li> <li>数组、字符串、正则扩展方法</li> <li>Object扩展方法</li> <li>Symbol基本数据数据，表示独一无二的唯一值</li> <li>promise</li> <li>async/await</li> <li>....</li></ul> <h1 id="symbol基本数据类型"><a href="#symbol基本数据类型" class="header-anchor">#</a> symbol基本数据类型</h1> <p>基本数据类型：string、number、boolean、null、undefined、Symbol</p> <p><strong>什么是Symbol?</strong> <code>Symbol</code>是 <code>es6</code>中新引进的一种基本数据类型，表示独一无二的值。</p> <p>每个从 Symbol() 返回的 symbol 值都是唯一的。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//创建 Symbol</span>
<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token keyword">typeof</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//添加标识的 Symbol,方便代码阅读和后期调试</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'小米'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s2_2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'小米'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2 <span class="token operator">===</span> s2_2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>

<span class="token comment">//使用 Symbol.for() 创建共享的Symbol,有全局缓存特点。如果已经定义过，就会返回原来的值。</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'小米'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s3_2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'小米'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s3 <span class="token operator">===</span> s3_2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

</code></pre></div><p><strong>symbol类型应用场景：</strong>
最合理的用法就是用Symbol创建的值作为对象的key，防止命名冲突。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 一个班级有两个同学，都叫张三，</span>
<span class="token comment">// let users = {</span>
<span class="token comment">//   张三: { age: 18, sex: '男' },</span>
<span class="token comment">//   张三: { age: 20, sex: '女' },</span>
<span class="token comment">// }</span>

<span class="token comment">// console.log(users) // { '张三': { age: 20, sex: '女' } }</span>

<span class="token keyword">let</span> key1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> key2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>key1<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'男'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>key2<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'女'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">[</span>key2<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Symbol特点：</p> <ul><li>Symbol值不能与其他数据进行运算。</li> <li>Symbol函数不能使用new，因为其不是一个构造器</li> <li>Symbol创建的属性名无法被枚举出来。即无法通过 <code>Object.getOwnPropertyNames()、Object.keys()、for...in</code>遍历出来。但可以通过 <code>Object.getOwnPropertySymbols()</code>进行遍历，会返回所有Symbol属性的数组</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token comment">// 'a' , 'b'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['a','b']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['a','b']</span>

<span class="token comment">// 获取Symbol的属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [ Symbol(c), Symbol(d) ]</span>
</code></pre></div><h1 id="let、const-关键字"><a href="#let、const-关键字" class="header-anchor">#</a> let、const 关键字</h1> <h2 id="let特点"><a href="#let特点" class="header-anchor">#</a> let特点</h2> <ul><li>声明的变量属于块级作用域（block scope）</li> <li>没有变量提升（存在TDZ），Temporal Dead Zone (暂时性死区)</li></ul> <blockquote><p>暂时性死区TDZ(Temporal Dead Zone): 起始于函数的开头，终止与相关变量声明的一行。在这个范围内无法访问let或const声明的变量。这块死区就是TDZ。</p></blockquote> <ul><li>不能声明相同变量</li> <li>声明的全局变量和和函数不会成为全局对象window的属性</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2022/png/26361372/1666242162387-18961df2-a292-46e3-8602-1b0b0568db84.png#averageHue=%23fdf4f4&amp;clientId=u73fa2059-2017-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=284&amp;id=u7edbf1da&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=284&amp;originWidth=737&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=61787&amp;status=done&amp;style=none&amp;taskId=u97f56fe5-a62f-458a-a508-70d610ed639&amp;title=&amp;width=737" alt="image.png"></p> <p>注意：以后声明变量使用let就对了。</p> <h2 id="const特点"><a href="#const特点" class="header-anchor">#</a> const特点</h2> <ul><li>声明的量属于常量，也是属于块级作用域，必须要赋予初始值，且后续不能修改。</li> <li>常量的名字一般都是约定大写</li></ul> <p>代码实例：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>
<span class="token comment">// const PI = 3.14;</span>
<span class="token comment">// PI = 3.15; // 报错</span>
<span class="token comment">// console.log(PI)</span>


<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token literal-property property">sex</span><span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// user = 123; // 报错</span>
user<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token comment">// 正确</span>
user<span class="token punctuation">.</span>email <span class="token operator">=</span> <span class="token string">'hehe@qq.com'</span><span class="token punctuation">;</span> <span class="token comment">// 正确</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>


<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token constant">TYPE</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">TYPE</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// console.log(TYPE) 报错</span>
</code></pre></div><p>注意：修改对象属性和数组元素不会发出const错误。</p> <p>let和const使用场景：</p> <ul><li>对于需要写保护（防止被覆盖）的变量使用const</li> <li>只有确定要改变变量的值的时候才用let</li></ul> <blockquote><p>因为变量的值会不停的变化这也是导致很多bug的源头。</p></blockquote> <ul><li>声明对象类型使用const，非对象类型使用let 。如对象、数组、函数用const声明。</li></ul> <h1 id="模板字符串"><a href="#模板字符串" class="header-anchor">#</a> 模板字符串</h1> <p>用一对反引号包起来的部分就是模板字符串。</p> <div class="language-Plain extra-class"><pre class="language-plain"><code>`${表达式}`
</code></pre></div><p>作用：用于字符串和变量的拼接，且支持换行操作</p> <p>表达式特点：一定会产生一个值。</p> <p>其表达式的值可以是变量、属性调用、函数调用、三目运算符等</p> <p>示例：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;库里&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">28</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'你好：'</span> <span class="token operator">+</span> name 
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">sex</span><span class="token operator">:</span><span class="token string">&quot;男&quot;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,性别：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj<span class="token punctuation">.</span>sex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,欢迎语：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 模板字符串可以换行，保持代码的原格式</span>
    <span class="token keyword">let</span> htmlStr <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;
        &lt;h1&gt;我是h1&lt;/h1&gt;
    &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>htmlStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="对象简写"><a href="#对象简写" class="header-anchor">#</a> 对象简写</h1> <p>属性简写</p> <p>方法简写</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'kobe'</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> user1 <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> name<span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> age<span class="token punctuation">,</span>
        <span class="token function-variable function">getName</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 简写为：</span>
    <span class="token keyword">let</span> user2 <span class="token operator">=</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">,</span>
        age<span class="token punctuation">,</span>
        <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span>
</code></pre></div><p>简写的属性定义在前面：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  a<span class="token punctuation">,</span>
  b<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// good 简写的属性定义在前面</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">,</span>
  b<span class="token punctuation">,</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>js代码规范：<a href="https://github.com/libertyAlone/airbnb-javascript-style-guide-cn#%E5%88%86%E5%8F%B7" target="_blank" rel="noopener noreferrer">https://github.com/libertyAlone/airbnb-javascript-style-guide-cn#%E5%88%86%E5%8F%B7<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>html代码规范：<a href="https://github.com/fex-team/styleguide/blob/master/html.md" target="_blank" rel="noopener noreferrer">https://github.com/fex-team/styleguide/blob/master/html.md<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>css代码规范：<a href="https://github.com/fex-team/styleguide/blob/master/css.md" target="_blank" rel="noopener noreferrer">https://github.com/fex-team/styleguide/blob/master/css.md<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="解构赋值"><a href="#解构赋值" class="header-anchor">#</a> 解构赋值</h1> <p>定义：可以对某个数据结构进行解开再把值赋值给其他变量。</p> <h2 id="对象的解构赋值"><a href="#对象的解构赋值" class="header-anchor">#</a> 对象的解构赋值</h2> <p>语法：解构时，可设置别名和默认值，语法：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token punctuation">{</span>属性名<span class="token punctuation">,</span>属性名：别名<span class="token punctuation">,</span> 属性名<span class="token operator">=</span>默认值<span class="token punctuation">}</span> <span class="token operator">=</span> 对象
</code></pre></div><p>示例：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">19</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'万志远'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">'18'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">area</span><span class="token operator">:</span> <span class="token string">'后瑞村'</span><span class="token punctuation">,</span> <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token string">'1312'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token string">'抽烟'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> myage<span class="token punctuation">,</span> <span class="token comment">// 属性名：别名</span>
    name<span class="token punctuation">,</span>
    <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token punctuation">{</span> number<span class="token punctuation">,</span> area <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 深层解构</span>
    hobby <span class="token operator">=</span> <span class="token string">'翻墙'</span><span class="token punctuation">,</span> <span class="token comment">// 属性名：默认值</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> obj

<span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,年龄：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>myage<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,住址：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>area<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,门牌号：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>number<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,爱好：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hobby<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>
</code></pre></div><p>对对象参数进行解构</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//   function hello(obj) {</span>
<span class="token comment">//     console.log(`my name is ${obj.name},age is ${obj.age},sex:${obj.sex}`)</span>
<span class="token comment">//   }</span>

<span class="token comment">// 对对象的参数进行解构</span>
<span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,age is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,sex:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'磊'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'人妖'</span><span class="token punctuation">,</span> <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">'泰国'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="数组的解构赋值"><a href="#数组的解构赋值" class="header-anchor">#</a> 数组的解构赋值</h2> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 变量a接收数组第一个元素,b接收第二个元素</span>
<span class="token keyword">var</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> arr
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 1 </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 2</span>

<span class="token comment">// 省略前几个数组元素</span>
<span class="token keyword">let</span> player <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token string">'王五'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">,</span>ww<span class="token punctuation">]</span> <span class="token operator">=</span> player<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ww<span class="token punctuation">)</span> <span class="token comment">// '王五'</span>

<span class="token comment">// 交换两个变量的值</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>  
<span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span>a<span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
</code></pre></div><h1 id="扩展-剩余-运算符"><a href="#扩展-剩余-运算符" class="header-anchor">#</a> 扩展（剩余）运算符...</h1> <p>作用：</p> <ul><li>获取函数所有的实参或部分实参，可以替换arguments</li> <li>合并对象或数组</li> <li>获取数组剩余元素</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 接收所有实参</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>


<span class="token comment">// 接收部分剩余实参</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 2, 3]</span>
<span class="token punctuation">}</span>

<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>

</code></pre></div><ul><li>合并对象或数组</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> user1 <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
  	<span class="token literal-property property">age</span><span class="token operator">:</span><span class="token string">&quot;男&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 合并属性，一般用在合并默认参数中较多</span>
<span class="token keyword">let</span> user2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>user1<span class="token punctuation">,</span>
  <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">&quot;123@qq.com&quot;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &quot;张三&quot;, sex: &quot;男&quot;, email: &quot;123@qq.com&quot;}</span>


<span class="token comment">// 合并数组</span>
<span class="token keyword">let</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// console.log( A.concat(B) ) // es5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token constant">B</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token comment">// es6</span>
</code></pre></div><ul><li>接受数组剩余元素</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 使用...将剩余元素都收集起来</span>
<span class="token keyword">let</span> persons <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'猪爸爸'</span><span class="token punctuation">,</span><span class="token string">'猪妈妈'</span><span class="token punctuation">,</span><span class="token string">'佩奇'</span><span class="token punctuation">,</span><span class="token string">'乔治'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>father<span class="token punctuation">,</span>monther<span class="token punctuation">,</span><span class="token operator">...</span>sons<span class="token punctuation">]</span> <span class="token operator">=</span> persons
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>father<span class="token punctuation">)</span> <span class="token comment">// '猪爸爸'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>monther<span class="token punctuation">)</span> <span class="token comment">// '猪妈妈'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sons<span class="token punctuation">)</span> <span class="token comment">// ['佩奇', '乔治']</span>
</code></pre></div><h1 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h1> <p>相比于es5定义的函数更加简洁！</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 函数定义</span>
<span class="token keyword">function</span> <span class="token function">sum1</span><span class="token punctuation">(</span><span class="token parameter">n1<span class="token punctuation">,</span>n2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数表达式</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n1<span class="token punctuation">,</span>n2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 箭头函数： () =&gt; {}</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">n1<span class="token punctuation">,</span>n2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 代码体{}内只有一行时可省略{}和return</span>
<span class="token keyword">let</span> <span class="token function-variable function">sum4</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">n1<span class="token punctuation">,</span>n2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n1 <span class="token operator">+</span> n2
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">sum4</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 30</span>


<span class="token comment">// 对象中箭头函数</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;小罗&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'my name is 小罗'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>


</code></pre></div><h2 id="箭头函数和普通函数的区别"><a href="#箭头函数和普通函数的区别" class="header-anchor">#</a> 箭头函数和普通函数的区别</h2> <ul><li>而箭头函数中是没有this,会把this当做一个普通的变量，会去其所在的父级上下文中寻找</li> <li>箭头函数中没有arguments(伪数组)。 用剩余参数 <code>...args</code>可以替代。 args是一个真数组。</li> <li>箭头函数不能new 操作。因为没有构造器 constructor</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>      <span class="token comment">// 1. 没有构造器constructor,不能new操作</span>
      <span class="token comment">//   const Person = () =&gt; {}</span>
      <span class="token comment">//   new Person()</span>

      <span class="token comment">//   ...扩展(展开)运算符</span>
      <span class="token comment">// 2. 箭头函数没有arguments,可用...args来代替</span>
      <span class="token keyword">const</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

      <span class="token comment">//   3. 箭头函数中没有this，会把this当做普通变量，去找最近父级上下文中的this</span>
      <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">'18'</span><span class="token punctuation">,</span>
        <span class="token comment">// 普通函数(简写而已)</span>
        <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 箭头函数</span>
        <span class="token function-variable function">getAge</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// this 指向window对象</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>

      obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 张三</span>
      obj<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre></div><p>注意：</p> <ul><li>如果不关心函数内部的this指向，可以使用箭头函数。</li> <li>要考虑this指向，则还是用普通函数</li></ul> <h1 id="可选链运算符"><a href="#可选链运算符" class="header-anchor">#</a> 可选链运算符</h1> <p><strong>可选链运算符</strong>（<strong>?.</strong>）可以读取对象深层的属性值，可省去多余的判断步骤。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  	<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">city</span><span class="token operator">:</span><span class="token string">'深圳'</span><span class="token punctuation">,</span>
       <span class="token literal-property property">area</span><span class="token operator">:</span><span class="token string">'地球村'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token operator">?.</span>address<span class="token operator">?.</span>city<span class="token punctuation">)</span> <span class="token comment">// '深圳' </span>
</code></pre></div><h1 id="class声明类"><a href="#class声明类" class="header-anchor">#</a> class声明类</h1> <blockquote><p>js没有class类的概念，但是在其他语言中如java、php都是有的。</p></blockquote> <p>es5中只能通过构造函数和原型对象结合的方式来模拟类的效果</p> <p>es6可以直接使用class来定义一个类</p> <ul><li>es5来实现构造函数(器)</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newName</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> newName
<span class="token punctuation">}</span>

</code></pre></div><ul><li>es6 通过class来模拟一个类（构造函数）</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>
    <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        <span class="token comment">// 构造函数，用于初始化操作,new的时候会立即执行</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">newName</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> newName
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'小罗'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
    <span class="token comment">// p1.setName('小康')</span>
    p1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><blockquote><p>注意： es6中的class其本质也是es5构造函数和原型对象的语法糖形式（简写形式）</p></blockquote> <h1 id="extends继承"><a href="#extends继承" class="header-anchor">#</a> extends继承</h1> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 父类</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>

    <span class="token function">drink</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'在喝水'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 子类 exntends 父类</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 必须执行父类的构造函数</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token punctuation">}</span>

    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'在吃骨头'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'来福'</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
dog<span class="token punctuation">.</span><span class="token function">drink</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="静态属性和静态方法"><a href="#静态属性和静态方法" class="header-anchor">#</a> 静态属性和静态方法</h1> <ul><li><p>成员（实例）属性：对象自身空间中有的属性，我们称之为实例属性。</p></li> <li><p>静态属性/方法：由类名的设置的属性和方法。作用：一般用来实现一些辅助功能。</p> <blockquote><p>静态属性/方法不属于对象的，所以不能通过对象操作。仅能由类名（构造函数名）操作</p></blockquote></li></ul> <h2 id="es6中的静态属性和静态方法"><a href="#es6中的静态属性和静态方法" class="header-anchor">#</a> es6中的静态属性和静态方法</h2> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// es6 class关键字</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>

    <span class="token comment">// 静态属性</span>
    <span class="token keyword">static</span> abc <span class="token operator">=</span> <span class="token string">'静态属性abc'</span>
    <span class="token comment">// 静态方法</span>
    <span class="token keyword">static</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test静态函数'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 静态属性只能由类名去访问或设置，不能通过对象去操作</span>
Person<span class="token punctuation">.</span>def <span class="token operator">=</span> <span class="token string">'静态属性def'</span>
Person<span class="token punctuation">.</span><span class="token function-variable function">xyz</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'静态方法xyz'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>abc<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>def<span class="token punctuation">)</span>

<span class="token comment">//  作用：通过静态函数实现一些辅助函数</span>
Person<span class="token punctuation">.</span><span class="token function-variable function">isArray</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>像数组的Array.isArray和Array.from也是属于静态方法。</li> <li>如数组的push、pop等都是属于实例方法，即只能通过数组对象才可以调用</li></ul> <h2 id="es5中的静态属性和静态方法"><a href="#es5中的静态属性和静态方法" class="header-anchor">#</a> es5中的静态属性和静态方法</h2> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code> <span class="token comment">// Person是构造函数的名字</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 添加静态属性</span>
Person<span class="token punctuation">.</span>version <span class="token operator">=</span> <span class="token string">'1.0.0'</span><span class="token punctuation">;</span>
<span class="token comment">// 添加静态方法</span>
Person<span class="token punctuation">.</span><span class="token function-variable function">getInfo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是静态方法getInfo'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 静态的属性或方法只能用构造函数名去调用</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>version<span class="token punctuation">)</span>
Person<span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="对象中setter和getter"><a href="#对象中setter和getter" class="header-anchor">#</a> 对象中setter和getter</h1> <p>可实现对对象属性的劫持</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'张三'</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">,</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 获取name的时候触发</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'get name'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">newName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 设置name的时候触发</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set name'</span><span class="token punctuation">,</span> newName<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">.</span>name <span class="token comment">// 触发 getter</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'456'</span> <span class="token comment">// 触发setter</span>

</code></pre></div><h1 id="object-常用的方法"><a href="#object-常用的方法" class="header-anchor">#</a> Object 常用的方法</h1> <h2 id="object-keys-和object-values"><a href="#object-keys-和object-values" class="header-anchor">#</a> Object.keys()和Object.values()</h2> <ul><li>Object.keys(): 返回对象的所有的key到一个数组中。但不含symbol的key</li> <li>Object.values()：返回对象的所有value到一个数组中</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">'18'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['name', 'age']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['张三', '18']</span>
</code></pre></div><h2 id="object-assign"><a href="#object-assign" class="header-anchor">#</a> Object.assign()</h2> <ul><li>Object.assign(target,source):  将源对象身上中的属性复制到目标对象中，若有同名属性，将会覆盖目标对象。此方法返回修改后的目标对象</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span>

<span class="token keyword">const</span> returnedTarget <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token comment">// { a: 1, b: 4, c: 5 }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnedTarget <span class="token operator">===</span> target<span class="token punctuation">)</span> <span class="token comment">// true </span>
</code></pre></div><p>作用：可以合并默认参数</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 需求：对指定的url地址发起get或post请求,</span>
<span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// 默认参数</span>
   <span class="token keyword">const</span> defaultParams <span class="token operator">=</span> <span class="token punctuation">{</span>
       <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token comment">// 默认发起get请求</span>
   <span class="token punctuation">}</span>
   <span class="token comment">// 将data传进来的参数和默认参数进行一个合并</span>
   <span class="token keyword">const</span> params <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>defaultParams<span class="token punctuation">,</span> data<span class="token punctuation">)</span>

   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">对地址</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">发了一个</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">请求</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://123.23.11.9/'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://103.21.11.9/'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="object-create"><a href="#object-create" class="header-anchor">#</a> Object.create()</h2> <ul><li>Object.create()： 用于创建一个新对象，使用现有的对象来作为新创建对象的原型</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> parentObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'my name is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// 创建一个对象，且以parentObj作为其原型对象</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>parentObj<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'李雪敏'</span>
obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//创建一个没有任何原型的对象，即非常干净的对象</span>
<span class="token keyword">const</span> myObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span>
</code></pre></div><h2 id="object-is"><a href="#object-is" class="header-anchor">#</a> Object.is()</h2> <ul><li>Object.is()： 判断两个值是否为同一个值。</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// true , 不一样的值，我们希望是false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// true, 不一样的值，我们希望是false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// false,一样的值，我们希望是true</span>


<span class="token comment">// 所以 Object.is() 应运而生, 仅判断是一样的值即可。更符合我们思维方式</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="object-defineproperty"><a href="#object-defineproperty" class="header-anchor">#</a> Object.defineProperty()</h2> <ul><li>Object.defineProperty()：给对象添加或修改属性，对属性可以有更加细粒度的控制。如控制是否可以被枚举、删除、修改等操作，此方法返回修改后的对象</li></ul> <p>属性相关的描述配置：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;大锤&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// 给对象添加一个age属性</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token comment">// 数据描述符</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token comment">// 设置默认值</span>
  <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>   <span class="token comment">// 控制属性是否可以枚举(for...in、Object.keys )出来，默认值是false</span>
  <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>     <span class="token comment">// 控制属性是否可以被修改，默认值是false</span>
  <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 控制属性是否可以被删除，默认值是false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>对属性getter和setter进行拦截描述配置。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>      <span class="token comment">// Object.defineProperty()：给对象添加或修改属性，</span>
      <span class="token comment">// 对属性可以有更加细粒度的控制。如控制是否可以被枚举、删除、修改等操作，此方法返回修改后的对象</span>
      <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'英英'</span> <span class="token punctuation">}</span>

      <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">20</span>
      <span class="token comment">// 给对象person添加一个age属性。</span>
      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// 存取描述符</span>
        <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否可以枚举（for-in,Object,keys()）</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'getter'</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span> age
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>newAge<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setter：'</span><span class="token punctuation">,</span> newAge<span class="token punctuation">)</span>
          age <span class="token operator">=</span> newAge
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 触发getter</span>

      person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">21</span> <span class="token comment">// 触发setter</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>注意，上面对属性设置的描述可以分为两大类：</p> <table><thead><tr><th></th> <th>configurable</th> <th>enumerable</th> <th>value</th> <th>writable</th> <th>get</th> <th>set</th></tr></thead> <tbody><tr><td>数据描述符</td> <td>可以</td> <td>可以</td> <td>可以</td> <td>可以</td> <td>不可以</td> <td>不可以</td></tr> <tr><td>存取描述符</td> <td>可以</td> <td>可以</td> <td>不可以</td> <td>不可以</td> <td>可以</td> <td>可以</td></tr></tbody></table> <blockquote><p>通过defineProperty设置symbol属性同样也是无法被枚举的，只能通过Object.getOwnPropertySymbols去获取</p></blockquote> <h1 id="迭代器iterator"><a href="#迭代器iterator" class="header-anchor">#</a> 迭代器iterator</h1> <blockquote><p>迭代器（Iterator）是一种接口，为各种不同的数据结构提供统一的访问机制。任何数据结构只要实现了 Iterator 接口，就可以通过for-of实现遍历操作。</p></blockquote> <p>一句话：可以让不支持遍历的数据结构 -》 可遍历</p> <p>原生具备iterator接口的数据(即都可用for of遍历)</p> <ul><li>Array</li> <li>Arguments</li> <li>Set</li> <li>Map</li> <li>String</li> <li>NodeList</li> <li>....</li></ul> <p>以字符串、数组作为示例：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'abc'</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'西瓜'</span><span class="token punctuation">,</span> <span class="token string">'菠萝'</span><span class="token punctuation">,</span> <span class="token string">'草莓'</span><span class="token punctuation">]</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>数组也一样：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// 获取数组的迭代器对象</span>
<span class="token keyword">const</span> iterator <span class="token operator">=</span> array<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {value: 1, done: false}   value代表值，done是否获取完成</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {value: 2, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {value: 3, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {value: undefined, done: true}</span>

</code></pre></div><p><code>next</code>一次仅能获取一次值。要获取所有则可以用for-of来进行迭代</p> <p><strong>迭代器工作原理：</strong></p> <div class="language-Plain extra-class"><pre class="language-plain"><code>  1.  创建一个指针对象，指向当前数据结构的起始位置
  2.  第一次调用对象的next方法，指针自动指向数据结构的第一个成员
  3.  接下来不断调用next方法，指针一直往后移动，直到指向最后一个成员
  4.  每调用next方法返回一个包含value和done属性的对象
</code></pre></div><p><strong>迭代器应用场景：需要自定义遍历数据的时候，就要自定义迭代器</strong></p> <p>协议</p> <ul><li><p>可迭代协议： Symbol.iterator  其值是一个函数</p> <div class="language-Plain extra-class"><pre class="language-plain"><code>- 必许有这个协议属性。 如 变量名[Symbol.iterator]
</code></pre></div></li> <li><p>迭代器协议：</p> <div class="language-Plain extra-class"><pre class="language-plain"><code>- 必须返回一个对象
- 返回的对象要有next方法
- next方法也要返回一个对象，并且有value 和 done两个属性

形如：
return {
    next(){
        return {
            value:xxx,	// value当前迭代的值
            done:boolean // true 遍历完毕， false 没有遍历完毕，可继续遍历
        }
    }
}
</code></pre></div></li></ul> <h2 id="自定义遍历数据"><a href="#自定义遍历数据" class="header-anchor">#</a> 自定义遍历数据</h2> <p><strong>迭代器应用场景：需要自定义遍历数据的时候，就要想到迭代器</strong></p> <p>需求：重写数组迭代器，用于迭代下标为偶数的元素</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>      <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'苹果'</span><span class="token punctuation">,</span> <span class="token string">'榴莲'</span><span class="token punctuation">,</span> <span class="token string">'车厘子'</span><span class="token punctuation">,</span> <span class="token string">'香蕉'</span><span class="token punctuation">,</span> <span class="token string">'梨子'</span><span class="token punctuation">]</span>

      <span class="token comment">//   重写user数组的迭代器接口</span>
      users<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 2 * i++：取偶数下标</span>
            <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> i<span class="token operator">++</span><span class="token punctuation">]</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
              value<span class="token punctuation">,</span> <span class="token comment">// value当前迭代的值</span>
              <span class="token literal-property property">done</span><span class="token operator">:</span> value <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// true 迭代完毕， false 没有迭代完毕，</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">const</span> iterator <span class="token operator">=</span> users<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">//   console.log(iterator.next())</span>
      <span class="token comment">//   console.log(iterator.next())</span>
      <span class="token comment">//   console.log(iterator.next())</span>
      <span class="token comment">//   console.log(iterator.next())</span>
      <span class="token comment">//   console.log(iterator.next())</span>
      <span class="token comment">//   console.log(iterator.next())</span>

      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> users<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
</code></pre></div><h1 id="汇总常用的循环技巧"><a href="#汇总常用的循环技巧" class="header-anchor">#</a> 汇总常用的循环技巧</h1> <div class="language-Plain extra-class"><pre class="language-plain"><code>    &lt;script&gt;
      // 1. for/while/do-while循环： 作用：循环数组、字符串
      // 2. for-in: 循环对象可枚举的属性，不包含Symbol。
      // 3. forEach: 循环数组和部分伪数组（querySelectorAll）
      // 4. map/filter/reduce/some/every/find/findIndex:用于数组
      // 5. for-of: 用来迭代具有实现迭代器（Symbol.iterator）接口的对象
</code></pre></div><h1 id="数组的find和findindex"><a href="#数组的find和findindex" class="header-anchor">#</a> 数组的find和findIndex</h1> <ul><li>find: 返回数组中第一个满足指定条件的元素</li> <li>findIndex： 返回数组中第一个满足指定条件的元素下标</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>     <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'秀儿'</span><span class="token punctuation">,</span> <span class="token string">'丽丽'</span><span class="token punctuation">,</span> <span class="token string">'雨雨'</span><span class="token punctuation">,</span> <span class="token string">'吓吓'</span><span class="token punctuation">,</span> <span class="token string">'丽丽'</span><span class="token punctuation">]</span>

      <span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token string">'丽丽'</span>

      <span class="token comment">// find找符合第一个条件的元素</span>
      <span class="token keyword">let</span> result <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">===</span> user<span class="token punctuation">)</span>
      <span class="token comment">// findIndex找符合第一个条件的元素下标</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">===</span> user<span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>

      <span class="token comment">// 以下两个方法仅用于基本数据类型的判断</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'英英'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'英英'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

      <span class="token comment">// 判断对象某个属性得用find或者是findIndex</span>
      <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'刘建新'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'陈鹏宇'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'文理东'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>

      <span class="token keyword">let</span> result2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'文理东'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span>

      <span class="token keyword">let</span> index2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'文理东'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index2<span class="token punctuation">)</span>
</code></pre></div><h1 id="伪数组和真数组"><a href="#伪数组和真数组" class="header-anchor">#</a> 伪数组和真数组</h1> <ul><li>伪数组（likeArray）：和真数组差不多，可以通过下标索引取值，也有 <code>length</code>属性，但不能调用真数组的方法如push。如 arguments，getElementsByTagName,querySelectorAll等返回都是伪数组。</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'apple'</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'orange'</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token operator">:</span> <span class="token string">'banana'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 'orange'</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> obj<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//obj.push('pear')// 报错,因为push是真数组方法</span>
</code></pre></div><h2 id="伪数组转真数组"><a href="#伪数组转真数组" class="header-anchor">#</a> 伪数组转真数组</h2> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
    <span class="token comment">// 方式1：伪数组转成真数组(要求伪数组具有迭代器接口(Symbol.iterator))</span>
    <span class="token comment">// const args = [...arguments]</span>
    <span class="token comment">// 方式2：</span>
    <span class="token comment">// const args = Array.from(arguments)</span>
    <span class="token comment">// 方式3：</span>
    <span class="token comment">// const args = Array.prototype.slice.call(arguments)</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
    args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="set-集合"><a href="#set-集合" class="header-anchor">#</a> Set 集合</h1> <p>ES6 提供了新的数据结构 Set（集合）。它类似于数组，但成员的值都是唯一的，集合实现了iterator接口，所以可以使用『for…of…』进行遍历。</p> <p>Set 中的元素是唯一的</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// Set(3) { 1, 2, 3 }</span>
</code></pre></div><p>Set 的属性和方法</p> <ul><li>add 添加元素,支持链式操作</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>delete 删除</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>s<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>clear 清空</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>s<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>size 返回集合中唯一元素的个数</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>s<span class="token punctuation">.</span>size
</code></pre></div><ul><li>has 检查集合中是否包含某个元素，返回boolean</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>set 的遍历</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// forEach</span>
s<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 实现了iterator接口 可以使用for of进行遍历</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> s<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="set应用场景"><a href="#set应用场景" class="header-anchor">#</a> set应用场景</h2> <p>将集合set转为数组：</p> <div class="language-Plain extra-class"><pre class="language-plain"><code>Array.from(set) // 或 [...set集合]
</code></pre></div><div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 实现数组去重</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment">// 思路：1.转成集合 2. 在转回数组</span>
<span class="token keyword">const</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span>
</code></pre></div><h2 id="set-和-数组区别"><a href="#set-和-数组区别" class="header-anchor">#</a> Set 和 数组区别</h2> <ul><li>Api不同</li> <li>Set元素不能重复</li> <li>Set是无序结构，操作很快。数组有序，操作慢</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// arr 数组有多慢</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'arr 访问'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'arr 访问'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'arr 头部插入'</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">'哈哈'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'arr 头部插入'</span><span class="token punctuation">)</span>

<span class="token comment">// set 有多快</span>
<span class="token keyword">let</span> myset <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    myset<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'set 访问'</span><span class="token punctuation">)</span>
myset<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'set 访问'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'set 插入'</span><span class="token punctuation">)</span>
myset<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'哈哈'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'set 插入'</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="map映射"><a href="#map映射" class="header-anchor">#</a> Map映射</h1> <blockquote><p>ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合。但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。</p></blockquote> <p>Map也实现了iterator接口，所以可以使用『扩展运算符』和『for…of…』进行遍历。</p> <p>Map的属性和方法</p> <ul><li>size    返回Map的元素个数</li> <li>set     增加一个新元素，返回当前Map</li> <li>get     返回键名对象的键值</li> <li>has     检测Map中是否包含某个元素，返回boolean值</li> <li>delete 函数对应key</li> <li>clear   清空集合，返回undefined</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> myMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 将一个新元素添加到 Map 对象</span>
myMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a1'</span><span class="token punctuation">)</span>
myMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'3'</span><span class="token punctuation">)</span>
myMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'a1'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> myMap<span class="token punctuation">.</span>size <span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre></div><ul><li>map的遍历</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> map1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a1'</span><span class="token punctuation">)</span>
map1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'b2'</span><span class="token punctuation">)</span>

<span class="token comment">// for..of来迭代</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">of</span> map1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 或</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>map1<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [ [ 'a', 'a1' ], [ 'b', 'b2' ] ]</span>


<span class="token comment">// 解构赋值</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token keyword">of</span> map1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="map-和-object区别"><a href="#map-和-object区别" class="header-anchor">#</a> Map 和 Object区别</h2> <ul><li>Map可以以任意类型数据作为key，而Object只能是string类型的key</li> <li>Map可以迭代（for-of），object不可以</li> <li>map是有序的，Object不能保证顺序</li></ul> <p>参考map和Object区别：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// map可以为任意类型为key</span>
<span class="token keyword">let</span> m1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">'1'</span> <span class="token punctuation">}</span>
m1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span>
m1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m1<span class="token punctuation">)</span>

<span class="token comment">// Map可以迭代</span>
<span class="token keyword">const</span> map1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
map1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a1'</span><span class="token punctuation">)</span>
map1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'b2'</span><span class="token punctuation">)</span>
<span class="token comment">// ...来迭代</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>map1<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [ [ 'a', 'a1' ], [ 'b', 'b2' ] ]</span>
<span class="token comment">// for..of来迭代</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">of</span> map1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token keyword">of</span> map1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// object不可以迭代,会报错</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">'a1'</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'b2'</span> <span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">of</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token comment">// error obj is not iterable 不是迭代器</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="扩展的字符串函数"><a href="#扩展的字符串函数" class="header-anchor">#</a> 扩展的字符串函数</h1> <ul><li>padStart:开头填充字符串</li> <li>padEnd:末尾填充字符串</li> <li>startsWith:判断一个字符串是否以特定字符串开头，满足返回true,否则返回false</li> <li>endsWith:判断一个字符串是否以特定字符串结尾，满足返回true,否则返回false</li> <li>trim: 去除两边连续的空格</li> <li>trimStart: 去除开头连续的空格</li> <li>trimEnd: 去除结尾连续的空格</li></ul> <p>示例代码：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// '00005'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// '500'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'abc'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// '5ab'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'v-model'</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'v-'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'modelhtmltext'</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'modelhtmltext'</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'v-model'</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'model'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'modelhtmltext'</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'  abc  '</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '  abc  '</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'  abc  '</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'abc'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'  abc  '</span><span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'abc  '</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'  abc  '</span><span class="token punctuation">.</span><span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '  abc'</span>
</code></pre></div><h1 id="扩展的数值函数"><a href="#扩展的数值函数" class="header-anchor">#</a> 扩展的数值函数</h1> <ul><li><p><strong>Math.pow(n,m)</strong>: 返回以n为底的m次方。</p> <blockquote><p>或 n**m</p></blockquote></li> <li><p><strong>Number.parseInt()</strong>：返回转换值的整数部分</p></li> <li><p><strong>Number.parseFloat()</strong>：返回转换值的浮点数部分</p></li> <li><p><strong>Number.isNaN()</strong>：是否为NaN</p></li> <li><p><strong>Number.isInteger()</strong>：是否为整数</p></li> <li><p><strong>Math.trunc()</strong>：返回数值整数部分</p></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code> <span class="token comment">// Math.pow(n,m): 返回以n为底的m次方。</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 16</span>
<span class="token comment">//   或 n**m</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// 32</span>
<span class="token comment">// - Number.parseInt()：提取的整数部分</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'123.45bc'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// - Number.parseFloat()：提取的浮点数部分</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// - Number.isNaN()：是否为NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

 <span class="token comment">//   是否为整数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">134</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">//   Math.trunc()：返回数值整数部分</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span><span class="token string">'123.45'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'123.45'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 123.45</span>
</code></pre></div><h1 id="扩展的数组函数"><a href="#扩展的数组函数" class="header-anchor">#</a> 扩展的数组函数</h1> <p>常用的有： forEach、map、filter、every, some, find, findIndex，reduce。</p> <p>上面方法特点：</p> <ol><li>都是不可变方法</li> <li>除了forEach函数没有返回值，其他函数都有返回值。</li></ol> <p>每个函数的作用：</p> <ul><li>forEach: 对数组中每个元素进行遍历，此方法没有返回值</li> <li>map: 对数组中每个元素进行加工处理，返回一个加工后的新数组</li> <li>filter:   对数组中的元素进行筛选，返回一个筛选后的新数组</li> <li>find: 返回数组中第一个满足指定条件的元素</li> <li>findIndex： 返回数组中第一个满足指定条件的元素下标</li> <li>every: 若数组中每个元素是否都满足指定的条件，才返回true,否则返回false</li> <li>some: 若数组中只要有一个元素是否满足指定的条件，才返回true,否则返回false</li> <li>reduce: 连续操作器</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>
<span class="token comment">// forEach: 对数组中每个元素进行遍历，此方法没有返回值</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> 
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//     // item: 循环的数组元素, indexs:循环元素的索引</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>index<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// map: 主要对数组中每个元素进行加工处理，返回一个新数组</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result1 <span class="token operator">=</span> arr2<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     <span class="token keyword">return</span> item<span class="token operator">*</span>item<span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span>


<span class="token comment">// filter:  对数组中的元素进行筛选，返回一个筛选后新数组 </span>
<span class="token comment">// 返回真值，则留下，否则舍去</span>
<span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 打印数组中的奇数</span>
<span class="token keyword">let</span> result2 <span class="token operator">=</span>  arr3<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span>

<span class="token comment">// every: 判断数组中每个元素是否都满足指定的条件，都符合才返回true,否则返回false</span>
<span class="token keyword">let</span> arr4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result4 <span class="token operator">=</span> arr8<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result4<span class="token punctuation">)</span>

<span class="token comment">// some: 数组中的任意一个元素，只要满足指定的条件，则返回true,否则返回false</span>
<span class="token keyword">let</span> arr5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result5 <span class="token operator">=</span> arr9<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result5<span class="token punctuation">)</span>

<span class="token comment">// find: 返回数组中满足条件的第一个元素</span>
<span class="token keyword">let</span> students <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;小罗&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;小里&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">28</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;小虎&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">38</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">let</span> stu <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token comment">// 匹配满足条件的元素,匹配成功，会立即停止向后匹配</span>
  <span class="token keyword">return</span> item<span class="token punctuation">.</span>age <span class="token operator">===</span> <span class="token number">28</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> stu <span class="token punctuation">)</span>

<span class="token comment">// findIndex： 返回数组中满足条件的第一个元素下标</span>
<span class="token keyword">let</span> stuIndex <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token comment">// 匹配满足条件的元素,匹配成功，会立即停止向后匹配</span>
  <span class="token keyword">return</span> item<span class="token punctuation">.</span>age <span class="token operator">===</span> <span class="token number">28</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stuIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>


</code></pre></div><h2 id="链式操作"><a href="#链式操作" class="header-anchor">#</a> 链式操作</h2> <ul><li>找出所有的女同学，并且添加score属性统计每个女同学他们所有科目的总分 ,数据如下：</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> students <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'王宁'</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token literal-property property">js</span><span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'王慧'</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token literal-property property">js</span><span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'咏升'</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token number">96</span><span class="token punctuation">,</span> <span class="token literal-property property">js</span><span class="token operator">:</span> <span class="token number">59</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'汪哥'</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token literal-property property">js</span><span class="token operator">:</span> <span class="token number">77</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'黄骞'</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token literal-property property">js</span><span class="token operator">:</span> <span class="token number">96</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'李雪敏'</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token literal-property property">js</span><span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
</code></pre></div><h2 id="数组交集、并集、差集"><a href="#数组交集、并集、差集" class="header-anchor">#</a> 数组交集、并集、差集</h2> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 取交集</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> arr2<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3]</span>

<span class="token comment">// 取并集</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">,</span> <span class="token operator">...</span>arr2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// 合并去重</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 4, 5, 6, 8, 9]</span>

<span class="token comment">// 取差集 取arr1在arr2中的差集</span>
<span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>arr2<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// [4, 5]</span>

</code></pre></div><h2 id="reduce函数-连续操作器"><a href="#reduce函数-连续操作器" class="header-anchor">#</a> reduce函数（连续操作器）</h2> <ul><li>语法</li></ul> <div class="language-Plain extra-class"><pre class="language-plain"><code>arr.reduce(callback(accumulator, currentValue,[index],[array]), [initialValue])
</code></pre></div><p>callback四个参数：</p> <ul><li><code>accumulator 累计器</code></li> <li><code>currentValue 当前值</code></li> <li><code>currentIndex 可选，当前索引</code></li> <li><code>array 可选，源数组</code></li></ul> <hr> <ul><li><code>initialValue</code>可选，累加器函数初始值</li></ul> <p>reduce连续操作器特点：</p> <ul><li>若传了初始化值initval,则从数组下标0 开始循环</li> <li>若没传初始化值initval,则将数组下标为0的值作为初始值，从下标1开始循环</li> <li>callback函数返回的累计器的值会作为下一次循环累计器的值，reduce函数最终会得到最后一次累计器的值</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 未提供初始值initialValue -》下标1开始循环,数组的第0个元素作为result的初始值</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span> item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> result <span class="token operator">+</span> item<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// 10</span>
</code></pre></div><div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 提供初始值initialValue  -》下标0开始循环,则初始值100作为result的初始值</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span> item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> result <span class="token operator">+</span> item<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// 110</span>
</code></pre></div><h2 id="flat扁平化数组"><a href="#flat扁平化数组" class="header-anchor">#</a> flat扁平化数组</h2> <p><strong>flat()</strong> ：实现数组扁平化。即将多维数组变为一维数组。</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token function">flat</span><span class="token punctuation">(</span>depth<span class="token punctuation">)</span> <span class="token comment">// depth深度默认1， Infinity为任意深度</span>
</code></pre></div><p>作用：扁平化嵌套数组</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr1<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [1, 2, 3, 4]</span>

<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr2<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [1, 2, 3, 4, [5, 6]]</span>

<span class="token keyword">var</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr3<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [1, 2, 3, 4, 5, 6]</span>

<span class="token comment">//使用 Infinity，可展开任意深度的嵌套数组</span>
<span class="token keyword">var</span> arr4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr4<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</code></pre></div><h1 id="扩充的正则功能"><a href="#扩充的正则功能" class="header-anchor">#</a> 扩充的正则功能</h1> <h2 id="字符串matchall函数"><a href="#字符串matchall函数" class="header-anchor">#</a> 字符串matchAll函数</h2> <ul><li><p>matchAll: 返回正则匹配的所有结果及捕获组的迭代器。</p> <blockquote><p>matchAll要求正则必须有标识符g</p></blockquote></li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'gfdg13411112222fdgdg18944445555'</span>

<span class="token comment">// 匹配手机号</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">1[3-9]\d{5}\d{4}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span>

<span class="token keyword">var</span> itera <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>
<span class="token comment">// 迭代</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">of</span> itera<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 或</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>str<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="捕获组-分组-命名"><a href="#捕获组-分组-命名" class="header-anchor">#</a> 捕获组(分组)命名</h2> <p>就是给捕获组内容起个别名，方便引用</p> <p>语法：在小括号前面添加 <code>?&lt;标识符&gt;</code></p> <div class="language-Plain extra-class"><pre class="language-plain"><code>(?&lt;标识符&gt;)
</code></pre></div><p>如：获取手机号前三位和后四位</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;first&gt;1[3-9]\d)\d{4}(?&lt;after&gt;\d{4})</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span>
<span class="token keyword">var</span> itera <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>str<span class="token punctuation">.</span><span class="token function">matchAll</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="正则非捕获组"><a href="#正则非捕获组" class="header-anchor">#</a> 正则非捕获组</h2> <p>捕获组特点：捕获匹配的内容会放置到正则缓冲区中，便于程序后面进行反向引用。</p> <ul><li><p>为什么要使用捕获组（分组）</p> <ul><li>为了当做整体去匹配  /(1\d){5}/,即把 <code>1\d</code>当做一个整体去匹配</li> <li>为了反向引用</li></ul></li></ul> <p>如果仅仅只是为了当做一个整体去匹配，并不需要反向引用，我们可以采用非捕获组进行优化。意味后续也就不可以反向引用了。</p> <div class="language-Plain extra-class"><pre class="language-plain"><code>(?:)
</code></pre></div><p>匹配邮箱：</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 邮箱正则</span>
<span class="token comment">// 634563456@qq.com  gsdgfs_gdg@gmail.com  gsdfgs545@163.cn  wangwei@atguigu.cn</span>
<span class="token comment">// gsdfgs@yoo.com.cn</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\w+@(?:[0-9a-z]+\.)+[a-zA-Z]{2,6}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'634563456@qq.com'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'gsdgfs_gdg@gmail.com'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'gsdfgs545@163.cn'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'wangwe@iatguigu.cn'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'gsdfgs@yoo.com.cn'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>正则图形化工具：<a href="https://regexper.com/%EF%BC%8C%E4%BE%BF%E4%BA%8E%E7%90%86%E8%A7%A3%E6%AD%A3%E5%88%99%EF%BC%8C%E6%9B%B4%E5%8A%A0%E7%9B%B4%E8%A7%82%EF%BC%8C%E5%BD%A2%E8%B1%A1%EF%BC%81" target="_blank" rel="noopener noreferrer">https://regexper.com/，便于理解正则，更加直观，形象！<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="解决深拷贝中的互相引用问题"><a href="#解决深拷贝中的互相引用问题" class="header-anchor">#</a> 解决深拷贝中的互相引用问题</h1> <p>为什么要深拷贝，到底解决了什么问题？</p> <p>答：避免影响原对象数据。</p> <p>互相引用：一个或多个对象中某个属性互相引用</p> <p>如：</p> <ul><li>对象自身引用</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>a <span class="token operator">=</span> obj
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>对象互相引用</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>

obj2<span class="token punctuation">.</span>c <span class="token operator">=</span> obj1
obj1<span class="token punctuation">.</span>d <span class="token operator">=</span> obj2

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在递归深拷贝中，如果对象中存在互相引用的问题，会导致递归无法停止，从而导致调用栈溢出。</p> <blockquote><p>报错信息：Maximum call stack size exceeded  超过调用栈大小</p></blockquote> <p>解决办法：</p> <ul><li>通过创建一个map容器，作为缓存使用，每次递归时，将新对象存入进去。</li> <li>再次进入递归时判断缓存中是否已经存在的对象，存在则返回，这样避免进入死递归。</li></ul> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>        <span class="token keyword">function</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> cacheMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> target
            <span class="token punctuation">}</span>
            <span class="token comment">// 判断map缓存中是否有，有则返回</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cacheMap<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> cacheMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">var</span> data <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token comment">// 将拷贝的对象作为key,data作为value存入缓存中，便于后续的判断</span>
            cacheMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> data<span class="token punctuation">)</span>
        
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 数组</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> target<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    data<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> cacheMap<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 递归调用 </span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">// 对象</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    data<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> cacheMap<span class="token punctuation">)</span> <span class="token comment">// 递归调用</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        
            <span class="token keyword">return</span> data
        <span class="token punctuation">}</span>

        <span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'王磊'</span><span class="token punctuation">,</span> <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'打球'</span><span class="token punctuation">,</span> <span class="token string">'按摩'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>


        <span class="token comment">// 互相引用</span>
        obj1<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>a<span class="token punctuation">)</span>
        obj1<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span>

        <span class="token comment">// 深拷贝</span>
        <span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token function">cloneDeep</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>

        obj2<span class="token punctuation">.</span>hobby<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'敲代码'</span><span class="token punctuation">)</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>数据结构和和算法的图形化（毕业后再看）：<a href="https://visualgo.net/zh/" target="_blank" rel="noopener noreferrer">https://visualgo.net/zh/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="扩展vue源码缓存函数"><a href="#扩展vue源码缓存函数" class="header-anchor">#</a> 扩展Vue源码缓存函数</h2> <div class="language-Plain extra-class"><pre class="language-plain"><code>/**
       * 对一个具有单参数的函数的结果进行缓存
       * {参数值1：结果1，参数值2：结果1}
       *
       * {ABC:'Abc',def:'Def'}
       */
      function cached(fn) {
        var cache = Object.create(null)
        return function (str) {
          var hit = cache[str]
          return hit || (cache[str] = fn(str))
        }
      }

      // 封装一个函数：将首字母大写，其他都小写
      function UpperStr(str) {
        console.log('自己函数执行了')
        str = str.toLowerCase()
        return str.charAt(0).toUpperCase() + str.substring(1)
      }

      // 得到一个UpperStr的函数缓存版本
      const CacheUpperStr = cached(UpperStr)

      console.log(CacheUpperStr('0')) // Abc
      console.log(CacheUpperStr('ABC')) // Abc
      console.log(CacheUpperStr('constructor')) // 'Constructor'
</code></pre></div><p>闭包应用场景：</p> <ul><li>防抖</li> <li>节流</li> <li>一次性函数</li> <li>缓存函数</li></ul></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/a08641/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">JS事件高级篇</div></a> <a href="/pages/1fc096/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">元素的+offset+client+scroll属性</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/a08641/" class="prev">JS事件高级篇</a></span> <span class="next"><a href="/pages/1fc096/">元素的+offset+client+scroll属性</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/c190e1/"><div>
            函数进阶
            <!----></div></a> <span class="date">08-19</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/91cc90/"><div>
            react-router-dom
            <!----></div></a> <span class="date">08-19</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/9705e8/"><div>
            create-react-app
            <!----></div></a> <span class="date">08-19</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:16631085276@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/jlk-lebron" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>Lebron Jia  | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8d6e8c80.js" defer></script><script src="/assets/js/2.d1a10b95.js" defer></script><script src="/assets/js/10.078876b2.js" defer></script>
  </body>
</html>
